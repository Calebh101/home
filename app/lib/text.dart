// Last updated: 5/27/25
// For: Deprecation

import 'package:homeapp/calendar.dart';
import 'package:homeapp/main.dart';
import 'package:localpkg/logger.dart';

void registerDialogues() {
  print("registering dialogues...");
  dialogues = [];

  Dialogue(id: "main", section: "Dashboard Home", title: "Welcome to your new home system!", description: ["Welcome to your new home system! This new system will help provide you with a more streamlined experience operating your home.", "First, we have the dashboard. Each box in the dashboard is called a \"widget\". The dashboard will tell you the weather at home, the current temperature inside your home, what music is currently playing, who has birthdays today, and my current Dexcom reading. Sometimes, you'll see an Announcements box at the top, indicating new announcements. You might also see alerts, which are typically related to the host's status, like temperature warnings.", "The weather widget will tell you the current temperature, what it really feels like, and the wind speed and direction. The temperature widget will tell you stats from the thermostat. We'll go through each little thing here in the Devices tab, as this is a stripped-down version of the thermostat widget in Devices.", "You can also see a box called \"Message\" and a Send button right beside it. You can type a message in the Message box, and then send that using the Send button. This will broadcast an announcement to the entire house, using the host's speakers. It uses text-to-voice to do this.", "Next, the Birthdays box will list everyone registered who has a birthday that day. This list can grow with more and more people's birthdays I learn.", "You'll next see a Music widget, which will show you music currently being broadcasted to the host. It will also allow you to pause/play it. Click into it to see advanced options. You can use your own device to broadcast your music to the host, but only Spotify is currently supported.The device will show up as Home Speaker. (Ignore DEBUG: Home Speaker if you see it.) Under this you will see a box like \"Dexcom Readings\". This will show you my current and previous readings, along with how old the current is. Click into it to see more details.", "Around the house, you might see tablets set up as dashboards. These can be used instead of mobile devices.\n\nThat covers the dashboard home page! As you navigate around the home app, you should see more help dialogues like this one (although they won't be as long)."]).register();
  Dialogue(id: "devices", section: "Devices", title: "Devices", description: ["This is the Devices tab. Here, you can control the devices around your house.\n\nFirst, the TVs. You'll see your TVs here. There's a power button right next to them to turn it on or off, and you can also click into them to see a full remote.\n\nTip: If you're on the Devices page and tap \"Devices\" in the navigation bar again, then it will scroll you to the home controls section.", "Next is the thermostat widget. You can see the detected temperature, the target temperature, the heating/cooling mode (target on the left, current on the right), the fan status (target on the left, current on the right), and the humidity. You can also see the name, manufacturer, model, version, firmware revision, and serial number. Click into this to change settings like the target heating/cooling mode, the target temperature, the cooling/heating thresholds, and the fan target status.", hostHasScreen ? "The next widget is the Host widget. Here you can control the volume/brightness of the host, the screen, and you can manage the \"fireplaces\". You can slide the volume bar to control the volume, although it does have a set maximum. You can also press the volume icon next to it to mute/unmute it. You can also slide the brightness bar to control the brightness of the screen.\n\nNext is the fireplace section. Click Fireplace to select a fireplace to turn on, or click Off to stop all fireplaces. Fireplaces are basically cool looping videos you can make the host start playing, with optional ambient sound (using the speaker button in the top right). The fireplace sound and music casting are separate, so you can do both at the same time.\n\nThe bottom part of the Host section is the screen button. Depending on what it is, you can either turn the screen on or off. Turning the screen off does not suspend anything, so it's completely fine. Turning the screen on may take a couple seconds due to some workarounds I had to use to accomplish it." : "The next widget is the Host widget. Here's where you can control the host. Here you can control the volume of the host, but that's it.", "The next section is more dynamic, you could say, as there's no specific list of controls here. This is the home control section. You'll see some small, long widgets that say stuff like \"Living Room\" that says \"X Device(s)\". Those \"devices\" are underneath, each in their own widget. Depending on the type of device, like a light switch, smart plug, or dashboard, it will show different controls."]).register();
  Dialogue(id: "calendar", section: "Calendar", title: "Calendar", description: ["This is the calendar. Here you can view the current calendar from $yearOffset year${yearOffset == 1 ? "" : "s"} back to 3 years forward. Each row goes from Sunday to Saturday, and the dots represent events on each section. When no list is selected, the dots' colors match other dots with the same list. When a list is selected, the colors are random. You can click into any of the day boxes to see, manage, or create events.", "In the top center is a dropdown, which controls the current selected list. Lists are public and can be seen by anyone else using the home system. You can create new lists when creating a new event."]).register();
  Dialogue.placeholder(id: "calendar-day", section: "Calendar Day", title: "Calendar").register();
  Dialogue(id: "settings", section: "Settings", title: "Settings", description: ["This is the settings page, where you can see info and tamper with some settings. The first section you will see is General. These settings are just generalized settings that don't have a specific category.", "In About, you can see some info about your app and the host. First, Version tells you the version of the app. If you click Host Info, it will fetch and show some info about the host (obviously). This includes stuff like version. If you click Show Help Dialogue, you get a list of help dialogues that you can select to show, like this one!", "The next category, Device, is for controlling and viewing the host. You can set the theme, refresh announcements/contacts, view temperatures, and suspend/power it down. If you're going away for some time, like for a few nights or so, it's recommended to suspend the host instead of powering it off. Suspending just sleeps the host, but powering it off fully shuts it down. Power options need an admin code to use.", "The next section, Network, can let you manage network stuff. This category only has one option, Internet Test, which if you click will bring you to a page to run an Internet test.\n\nUnder Settings & Data, you can reset the help dialogues like this one, which makes them show up again next time you navigate to their respective pages. Reset All Settings and Data does exactly what you think it does. It only erases data from your device, not the host device.\n\nAdmin has settings/actions you can only use if you know the admin password."]).register();
  Dialogue(id: "tv", section: "TV Remote", title: "TV Remote", description: ["This is your TV remote. You can use this virtual remote to control any TV.\n\nImportant: Because of the way the remote works, some actions may not work as expected. You may see some incorrect behavior like the wrong app opening, the TV not responding when you try to open an app, weird behavior when using keys like fast forward, rewind, etcetera. You are welcome to report any of this to me."]).register();
  Dialogue(id: "dexcom", section: "Glucose", title: "Glucose", description: ["This is the Glucose section. This will tell you my current bloodsugar, because why not.", if (hostHasScreen) "Press the share button in the top right to make the host machine navigate to and show your glucose readings. Press the stop button to make the host go back. Pressing the refresh button will also refresh the host.", "On the top, the screen will show my current reading, my previous reading, and how long it's been since the last reading. The graph below that may be colored based on the Colored Graphs setting, but it'll be on by default. You can hover over dots on the graph to see the exact reading at that point in time."]).register();
  Dialogue(id: "internet-test", section: "Internet Test", title: "Internet Test", description: ["Welcome to Internet Test! This page allows you to run an Internet test from the host's point of view. To start, press the massive play button in the center. As it runs, it will tell you what it's actively doing, and when it completes it will show \"Scan Complete\" with a big checkmark. Click the checkmark to show results, or the reload button in the top right to rerun it.", "The first section you'll see is Router. This will tell you if the router is up and running, its response time, and its host.", "The next section is Speed Test. If this doesn't show, than there was an issue running it. If you click the globe right next to \"Speed Test\", then it will open the results directly.", "The Download and Upload sections both list the speed, elapsed time, and latency. The Ping section lists the ping latency, high, low, and jitter.", "The Server Request section is where the host directly tried to reach my servers. It'll show stuff like is the server reachable, is it enabled, the status code, etcetera."]).register();
  Dialogue(id: "temps", section: "Temperatures", title: "Temperatures", description: ["This is the page where you can monitor the host's temperatures. The top section is all the individual sensors (listed with their adapters) ranked highest temperature to lowest temperature. The bottom section is all the adapters with each of their sensors underneath. Each temperature is in degrees Celsius.", "You can also see the fan speeds of each fan in the host. Each fan is measured in percent, which is where it is in between the minimum RPM and the maximum RPM."]).register();
}

@Deprecated("Please use individual dialogues using showSectionDialogue.")
String buildDescription({double? maxVolume}) {
  return "Welcome to your home system! This is what you will use to control certain parts of your home.\n\nTo start off, we have announcements and birthdays. Announcements are nice-to-know things about the house, home system, or other things. Birthdays tell you everyone in the family (immediate or extended) who has a birthday that day, displayed in a single list on the home page.\n\nNow, we have the announce messages feature. This is not related to the announcements feature. This allows anyone in the house to announce a message to the house using Google Translate.\n\nNext up, we have the system controls. We have volume (which controls how loud you want announcements and music to be; there is a set limit${maxVolume == null ? "" : " of ${maxVolume.round()}%"}), brightness of the screen, light/dark mode, and screen. Use the sliders in the volume/brightness section to change the volume and brightness. The volume icon also toggles as a mute/unmute button. Tap it to mute the volume (set it to 0), or unmute the volume (set it to whatever it was before). You can toggle the app between light and dark mode using the light/dark mode buttons. You can also turn the screen on or off using the screen on/off buttons. Turning the screen on typically takes a couple seconds for it to respond. You can also just move the mouse or use the keyboard on the host to wake it back up. While the screen is off, you can still use the home web app and even do stuff like announce messages or play music.\n\nNext up, we have night mode. When on, the dashboard is removed and the screen goes into a darkened state. You can still use the services on other devices. To exit night mode, click anywhere on the screen.\n\nYou can also cast music to the device. If you open Spotify and play music, you can open the Cast page and select \"Home Server\". (You might see \"DEBUG: Home Server\"; just ignore that.) Then, using the host or using the web app, you can play/pause the music, go next or back, or disconnect everybody from the server. (The last one might be helpful.)\n\nNext up, we have Dexcom readings. Click into this to see a graph and the current reading (with the previous reading being the smaller number). Up in the top right, you will see a refresh and a share button. Click the share button to display the Dexcom readings on the host, and click the newly-shown stop button to go back to the dashboard. Click the refresh button to refresh both the web app's and the host's monitor.\n\nWe also have a fireplace feature. Click into this to get a list of options, along with a button in the top right that controls the fireplace sound effects. This button displays the current state (on, off) of the fireplace sound effects. Tap one of the fireplace options to display the corresponding fireplace in fullscreen on the host. Click Off to bring the host back to the dashboard. To exit a fireplace on the host, click anywhere on the screen.\n\nEvery once in a while, you may see \"Blank Severity Warning\" banners at the top. These are displayed whenever there is a potentially dangerous issue, such as high host temperatures. Typically these will also be sent out in an email if the alert is potentially dangerous.\n\nThe Internet Test page is a tool to check your Internet. It first checks if the router is successfully running, then it gets details about the network and runs a speed test. It then presents all of the relevant details to you.\n\nWhen you first click into the page, there will be a large play button in the center of the screen. Tap this to start the test. You will see real-time updates as the test goes on. After it completes, it will show a big checkbark button. Click this to see the results.\n\nNotes: If there was an error, it will show “Failed” on the screen. If trying again a couple more times does not solve this, then report the incident. If there is no “Speed Test” section in the results, then that means the speed test was unsuccessful and failed somewhere. This happens often; however, the server will retry one time if the speed test fails. If it failed both times, it will not show any results.\n\nIn the Settings menu, we have a few more options. In General, there is Colored Graphs. Click this to toggle this on/off (default is on). If this is on, graphs like in the Dexcom monitor will have colored points and axis labels. We can see the version of the current web app in About, and if we click Host Info, we can see the server version, system version, configuration version, and host app version of the host. The last setting in this category is Show Help Dialogue, which shows this dialogue again if you ever need it. In Device, we have three options: Refresh, Temperatures, and Power Off. First off, Refresh will simply send a request to the host to refresh announcements and contacts. These are not updated automatically on the host when I update them, but they do update every hour. This is typically unnecessary.\n\nIf we click Temperatures, we can see a very large amount of data concerning temperatures of every single sensor of the host. In General Temps, you will see every sensor (with its adapter) ranked top to bottom from most hot to least hot. Every section below General Temps is a specific adapter, each with a list of sensors. There are both temperature sensors and fan sensors. Fan sensors have an input and a minimum. The input is the current speed, and the minimum is the lowest they can go. Temperature sensors either just have an input (which is in Celsius), or they have an input, a max temperature, a critical temperature (which is the temperature that the system says is way too high), and the \"crit_alarm\" (which is 0 if the critical limit has not been hit, 1 if it has).\n\nIf we click Power Off, then we will get a confirmation, and if we click yes, then the system will be scheduled to shut down very soon. If the host's kiosk app is running, then there will be a \"Cancel\" option. If not, then run \"pkill sleep\" in a terminal to cancel shutdown.\n\nThe last setting is \"Reset All Settings and Data\" under \"Settings & Data\". This resets the current web app's (not the host's app's) settings.\n\nAnd there you have it! You are now ready to use your home system. I hope you enjoy, and please report any issues or concerns you see.";
}